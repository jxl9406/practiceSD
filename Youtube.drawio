<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36" version="26.1.3">
  <diagram name="第 1 页" id="mNpb9smKbutXJM1IxSIa">
    <mxGraphModel dx="2736" dy="2244" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-3" value="&lt;b&gt;Functional Requirments&amp;nbsp;&lt;/b&gt; -&amp;gt; satisfied by high-level requiements&lt;div&gt;1. Users&amp;nbsp; can upload video&lt;/div&gt;&lt;div&gt;2. Users can watch/download/stream video&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="-232" y="16" width="370" height="55" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-4" value="&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;b&gt;Scale&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;~1M uploads/day&lt;/div&gt;&lt;div style=&quot;&quot;&gt;100M&amp;nbsp; DAU&lt;/div&gt;&lt;div&gt;Max video size of 256GB&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="-232" y="71" width="158" height="70" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-5" value="&lt;b&gt;Non-functional Requirements&lt;/b&gt;&lt;div&gt;- Availability &amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Consistency (for video upload)&lt;/div&gt;&lt;div&gt;- Support uploading/streaming for large videos (256GB)&lt;/div&gt;&lt;div&gt;- Low latency streaming (&amp;lt;500ms) true in low bandwidth&lt;/div&gt;&lt;div&gt;- scalability to scale 1M uploads/day and 100M views&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="-232" y="143" width="330" height="84" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-6" value="&lt;b&gt;Core Entities&lt;/b&gt;(&lt;i&gt;the nouns in my system&lt;/i&gt;)&lt;div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(154, 199, 191);&quot;&gt;BETTER TO OUTLINE ROUGH SCHEMA&lt;/span&gt;&lt;br&gt;&lt;div&gt;- Video&lt;/div&gt;&lt;div&gt;- Video metadata&lt;/div&gt;&lt;div&gt;- User&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="-232" y="228" width="248" height="84" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-7" value="&lt;b&gt;API&lt;/b&gt;(the contract with users)&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;// upload a video&lt;/div&gt;&lt;div&gt;POST /videos&lt;/div&gt;&lt;div&gt;{&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;video,&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;videoMetadata&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;// watch a video&lt;/div&gt;&lt;div&gt;GET&amp;nbsp; /videoes/:videoID&amp;nbsp; -&amp;gt; video &amp;amp; VideoMetadata&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="-232" y="319" width="300" height="170" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-8" value="Client" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="323" y="248.25" width="105" height="58.5" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-9" value="Api gateway&lt;div&gt;- routing&lt;/div&gt;&lt;div&gt;- middleware&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="491" y="118" width="120" height="319" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-10" value="video Service" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="710" y="247.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-12" value="VideoMeta&lt;div&gt;data DB&lt;/div&gt;" style="ellipse;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="883" y="364" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-13" value="S3" style="ellipse;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="875" y="110" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-15" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;entryX=0.088;entryY=0.727;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.75;exitY=0;exitDx=0;exitDy=0;fontFamily=Comic Sans MS;" edge="1" parent="1" source="2z8Zo3TBHNO3D_dxmZJX-10" target="2z8Zo3TBHNO3D_dxmZJX-13">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="820" y="229" as="sourcePoint" />
            <mxPoint x="870" y="179" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-16" value="get pre-signed urls" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Comic Sans MS;" vertex="1" connectable="0" parent="2z8Zo3TBHNO3D_dxmZJX-15">
          <mxGeometry x="-0.0095" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-21" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontFamily=Comic Sans MS;" edge="1" parent="1" source="2z8Zo3TBHNO3D_dxmZJX-8" target="2z8Zo3TBHNO3D_dxmZJX-9">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="451" y="277" as="sourcePoint" />
            <mxPoint x="501" y="227" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-23" value="10mb" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="521" y="438" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-24" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;" edge="1" parent="1" source="2z8Zo3TBHNO3D_dxmZJX-9" target="2z8Zo3TBHNO3D_dxmZJX-10">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="612" y="312" as="sourcePoint" />
            <mxPoint x="662" y="262" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-27" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;Why we changed the &quot;upload video to S3&quot; to &quot;get pre-signed URLs&quot;?&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;-&amp;gt; get pre-signed URLs means telling S3: hey I&#39;m ready to upload a 1 GB video file to you,&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;via multi-part upload and so then S3 will say ok&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;(they&#39;re actually put each of your video chunks to right here are all the URLs that can use in order&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;to put them into S3 and clients going to get back all of those pre-signed URLs and then and chunk video )&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Comic Sans MS;labelBackgroundColor=#CCE5FF;" vertex="1" parent="1">
          <mxGeometry x="-232" y="543" width="606" height="84" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-35" value="- chunk(large chunks)&lt;div&gt;- PUT /pre-signedurls&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="323" y="307.5" width="140" height="41" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-37" value="Video&lt;div&gt;- id&lt;/div&gt;&lt;div&gt;- name&lt;/div&gt;&lt;div&gt;- description&lt;/div&gt;&lt;div&gt;- status: pending |&amp;nbsp; uploaded | chunking&amp;nbsp; | chunks_complete&lt;/div&gt;&lt;div&gt;- FullS3url&lt;/div&gt;&lt;div&gt;- ChunksByResolution[]&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;span style=&quot;white-space-collapse: preserve;&quot;&gt;&#x9;&lt;/span&gt;{&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space-collapse: preserve;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space-collapse: preserve;&quot;&gt;&#x9;&lt;/span&gt;240p: [], manifest file&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space-collapse: preserve;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space-collapse: preserve;&quot;&gt;&#x9;&lt;/span&gt;720p: [],&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space-collapse: preserve;&quot;&gt;&#x9;&lt;/span&gt;}&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgba(0, 0, 0, 0); font-family: monospace; font-size: 0px;&quot;&gt;%3CmxGraphModel%3E%3Croot%3E%3CmxCell%20id%3D%220%22%2F%3E%3CmxCell%20id%3D%221%22%20parent%3D%220%22%2F%3E%3CmxCell%20id%3D%222%22%20value%3D%22%26lt%3Bdiv%20style%3D%26quot%3Bfont-family%3A%20%26amp%3Bquot%3BComic%20Sans%20MS%26amp%3Bquot%3B%3B%20text-align%3A%20left%3B%26quot%3B%26gt%3B%26lt%3Bspan%20style%3D%26quot%3Bwhite-space-collapse%3A%20preserve%3B%26quot%3B%26gt%3B%26%239%3B%26lt%3B%2Fspan%26gt%3B%7B%26lt%3B%2Fdiv%26gt%3B%26lt%3Bdiv%20style%3D%26quot%3Bfont-family%3A%20%26amp%3Bquot%3BComic%20Sans%20MS%26amp%3Bquot%3B%3B%20text-align%3A%20left%3B%26quot%3B%26gt%3B%26lt%3Bspan%20style%3D%26quot%3Bwhite-space-collapse%3A%20preserve%3B%26quot%3B%26gt%3B%26%239%3B%26lt%3B%2Fspan%26gt%3B%26lt%3Bspan%20style%3D%26quot%3Bwhite-space-collapse%3A%20preserve%3B%26quot%3B%26gt%3B%26%239%3B%26lt%3B%2Fspan%26gt%3B240p%3A%20%5B%5D%2C%26lt%3Bbr%26gt%3B%26lt%3B%2Fdiv%26gt%3B%26lt%3Bdiv%20style%3D%26quot%3Bfont-family%3A%20%26amp%3Bquot%3BComic%20Sans%20MS%26amp%3Bquot%3B%3B%20text-align%3A%20left%3B%26quot%3B%26gt%3B%26lt%3Bspan%20style%3D%26quot%3Bwhite-space-collapse%3A%20preserve%3B%26quot%3B%26gt%3B%26%239%3B%26lt%3B%2Fspan%26gt%3B%26lt%3Bspan%20style%3D%26quot%3Bwhite-space-collapse%3A%20preserve%3B%26quot%3B%26gt%3B%26%239%3B%26lt%3B%2Fspan%26gt%3B720p%3A%20%5B%5D%2C%26lt%3Bbr%26gt%3B%26lt%3B%2Fdiv%26gt%3B%26lt%3Bdiv%20style%3D%26quot%3Bfont-family%3A%20%26amp%3Bquot%3BComic%20Sans%20MS%26amp%3Bquot%3B%3B%20text-align%3A%20left%3B%26quot%3B%26gt%3B%26lt%3Bspan%20style%3D%26quot%3Bwhite-space-collapse%3A%20preserve%3B%26quot%3B%26gt%3B%26%239%3B%26lt%3B%2Fspan%26gt%3B%7D%26lt%3B%2Fdiv%26gt%3B%22%20style%3D%22text%3Bhtml%3D1%3Balign%3Dcenter%3BverticalAlign%3Dmiddle%3Bresizable%3D0%3Bpoints%3D%5B%5D%3Bautosize%3D1%3BstrokeColor%3Dnone%3BfillColor%3Dnone%3B%22%20vertex%3D%221%22%20parent%3D%221%22%3E%3CmxGeometry%20x%3D%22173%22%20y%3D%22-21%22%20width%3D%22123%22%20height%3D%2270%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3C%2Froot%3E%3C%2FmxGraphModel%3E&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="871" y="447" width="348" height="199" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-39" value="" style="curved=1;endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="2z8Zo3TBHNO3D_dxmZJX-13" target="2z8Zo3TBHNO3D_dxmZJX-12">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="982" y="261" as="sourcePoint" />
            <mxPoint x="1032" y="211" as="targetPoint" />
            <Array as="points">
              <mxPoint x="998" y="223" />
              <mxPoint x="992" y="291" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-41" value="S3 notification" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Comic Sans MS;" vertex="1" connectable="0" parent="2z8Zo3TBHNO3D_dxmZJX-39">
          <mxGeometry x="-0.0959" relative="1" as="geometry">
            <mxPoint y="10" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-43" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="398" y="247.5" as="sourcePoint" />
            <mxPoint x="867.0000000000136" y="153.25" as="targetPoint" />
            <Array as="points">
              <mxPoint x="522" y="28.25" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-44" value="&lt;span style=&quot;font-family: &amp;quot;Comic Sans MS&amp;quot;;&quot;&gt;1. Upload directly to S3&lt;/span&gt;&lt;div style=&quot;font-family: &amp;quot;Comic Sans MS&amp;quot;;&quot;&gt;w/ mutipart upload&lt;/div&gt;&lt;div style=&quot;font-family: &amp;quot;Comic Sans MS&amp;quot;;&quot;&gt;2. Download directly from S3&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="2z8Zo3TBHNO3D_dxmZJX-43">
          <mxGeometry x="-0.511" y="-1" relative="1" as="geometry">
            <mxPoint x="78" y="-76" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-45" value="Chunker" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="1032" y="33" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-48" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="2z8Zo3TBHNO3D_dxmZJX-13" target="2z8Zo3TBHNO3D_dxmZJX-45">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="955" y="103" as="sourcePoint" />
            <mxPoint x="1005" y="53" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-49" value="S3 notification" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Comic Sans MS;" vertex="1" connectable="0" parent="2z8Zo3TBHNO3D_dxmZJX-48">
          <mxGeometry x="0.0051" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-51" value="" style="curved=1;endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="2z8Zo3TBHNO3D_dxmZJX-45" target="2z8Zo3TBHNO3D_dxmZJX-13">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="909" y="66" as="sourcePoint" />
            <mxPoint x="959" y="16" as="targetPoint" />
            <Array as="points">
              <mxPoint x="932" y="-16" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-53" value="store chunk bacck into S3" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Comic Sans MS;" vertex="1" connectable="0" parent="2z8Zo3TBHNO3D_dxmZJX-51">
          <mxGeometry x="-0.1813" y="33" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-54" value="" style="curved=1;endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="2z8Zo3TBHNO3D_dxmZJX-45" target="2z8Zo3TBHNO3D_dxmZJX-12">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1075" y="232" as="sourcePoint" />
            <mxPoint x="1125" y="182" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1123" y="168" />
              <mxPoint x="1085" y="308" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-56" value="2-10s clips" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Comic Sans MS;" vertex="1" connectable="0" parent="2z8Zo3TBHNO3D_dxmZJX-54">
          <mxGeometry x="-0.9436" y="-2" relative="1" as="geometry">
            <mxPoint x="-5" y="-24" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-63" value="" style="group;fontFamily=Comic Sans MS;" vertex="1" connectable="0" parent="1">
          <mxGeometry x="1353" y="21" width="272" height="210" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-61" value="" style="group;fontFamily=Comic Sans MS;" vertex="1" connectable="0" parent="2z8Zo3TBHNO3D_dxmZJX-63">
          <mxGeometry y="30" width="272" height="180" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-57" value="" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" vertex="1" parent="2z8Zo3TBHNO3D_dxmZJX-61">
          <mxGeometry width="272" height="180" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-58" value="Video codec&lt;div&gt;data&lt;/div&gt;&lt;div&gt;(H.264, Vp9,&lt;/div&gt;&lt;div&gt;AV1)&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" vertex="1" parent="2z8Zo3TBHNO3D_dxmZJX-61">
          <mxGeometry x="9" y="15" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-59" value="Audio codec&lt;div&gt;data&lt;/div&gt;&lt;div&gt;(MP3, Opus, etc&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;)&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" vertex="1" parent="2z8Zo3TBHNO3D_dxmZJX-61">
          <mxGeometry x="141" y="13" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-60" value="Parameters&lt;div&gt;- bitrate, resolution, frame rate&lt;/div&gt;&lt;div&gt;- apest ratio&lt;/div&gt;&lt;div&gt;- duration&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" vertex="1" parent="2z8Zo3TBHNO3D_dxmZJX-61">
          <mxGeometry x="9" y="85" width="254" height="82" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-62" value="Video container (mp4, mov, avi, etc)" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Comic Sans MS;" vertex="1" parent="2z8Zo3TBHNO3D_dxmZJX-63">
          <mxGeometry x="2" width="270" height="30" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-71" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="1225" y="-34" width="84" height="221" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-64" value="Transcoder&lt;div&gt;(4k)&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" vertex="1" parent="2z8Zo3TBHNO3D_dxmZJX-71">
          <mxGeometry y="179" width="84" height="42" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-65" value="Transcoder&lt;div&gt;(1080p)&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" vertex="1" parent="2z8Zo3TBHNO3D_dxmZJX-71">
          <mxGeometry y="131" width="84" height="42" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-66" value="Transcoder&lt;div&gt;(720p)&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" vertex="1" parent="2z8Zo3TBHNO3D_dxmZJX-71">
          <mxGeometry y="81" width="84" height="42" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-68" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="2z8Zo3TBHNO3D_dxmZJX-71">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="42" y="82" as="sourcePoint" />
            <mxPoint x="42" y="43" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-70" value="Transcoder&lt;div&gt;(240p)&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" vertex="1" parent="2z8Zo3TBHNO3D_dxmZJX-71">
          <mxGeometry width="84" height="42" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-73" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="2z8Zo3TBHNO3D_dxmZJX-45" target="2z8Zo3TBHNO3D_dxmZJX-65">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1156" y="182" as="sourcePoint" />
            <mxPoint x="1206" y="132" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-74" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="2z8Zo3TBHNO3D_dxmZJX-45" target="2z8Zo3TBHNO3D_dxmZJX-70">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1161" y="36" as="sourcePoint" />
            <mxPoint x="1211" y="-14" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-75" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="2z8Zo3TBHNO3D_dxmZJX-45" target="2z8Zo3TBHNO3D_dxmZJX-66">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1175" y="151" as="sourcePoint" />
            <mxPoint x="1225" y="101" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-76" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="2z8Zo3TBHNO3D_dxmZJX-45" target="2z8Zo3TBHNO3D_dxmZJX-64">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1140" y="193" as="sourcePoint" />
            <mxPoint x="1190" y="143" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-78" value="" style="endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=0.374;exitY=1.006;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="2z8Zo3TBHNO3D_dxmZJX-64" target="2z8Zo3TBHNO3D_dxmZJX-12">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1244" y="217" as="sourcePoint" />
            <mxPoint x="1248" y="335" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-79" value="" style="curved=1;endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="2z8Zo3TBHNO3D_dxmZJX-70" target="2z8Zo3TBHNO3D_dxmZJX-13">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1013" y="-81" as="sourcePoint" />
            <mxPoint x="1063" y="-131" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1072" y="-131" />
              <mxPoint x="904" y="-76" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-81" value="Store back into S3" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Comic Sans MS;" vertex="1" connectable="0" parent="2z8Zo3TBHNO3D_dxmZJX-79">
          <mxGeometry x="-0.0236" y="6" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-83" value="CDN" style="ellipse;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="304" y="-26" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-85" value="- have popular video chunks&amp;nbsp; -&amp;gt; store as cache&lt;div&gt;- for lower the latency if clients are far from the S3 location&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Comic Sans MS;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="217" y="-64" width="334" height="38" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-86" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;exitX=0.25;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="2z8Zo3TBHNO3D_dxmZJX-8" target="2z8Zo3TBHNO3D_dxmZJX-83">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="262" y="128" as="sourcePoint" />
            <mxPoint x="312" y="78" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-89" value="&lt;div style=&quot;font-family: &amp;quot;Comic Sans MS&amp;quot;; text-align: left;&quot;&gt;&lt;span style=&quot;white-space-collapse: preserve;&quot;&gt;&#x9;&lt;/span&gt;{&lt;/div&gt;&lt;div style=&quot;font-family: &amp;quot;Comic Sans MS&amp;quot;; text-align: left;&quot;&gt;&lt;span style=&quot;white-space-collapse: preserve;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space-collapse: preserve;&quot;&gt;&#x9;&lt;/span&gt;240p: [],&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-family: &amp;quot;Comic Sans MS&amp;quot;; text-align: left;&quot;&gt;&lt;span style=&quot;white-space-collapse: preserve;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space-collapse: preserve;&quot;&gt;&#x9;&lt;/span&gt;720p: [],&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-family: &amp;quot;Comic Sans MS&amp;quot;; text-align: left;&quot;&gt;&lt;span style=&quot;white-space-collapse: preserve;&quot;&gt;&#x9;&lt;/span&gt;}&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="173" y="-21" width="123" height="70" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-90" value="Streaming protocols:&lt;div&gt;1. HLS&lt;/div&gt;&lt;div&gt;2. DASH&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="329" y="402" width="138" height="30" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-91" value="video Service" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="699" y="256" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-92" value="video Service" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="690" y="268" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-93" value="1M * 1kb *365 = .35TB&lt;div&gt;shord by videoID sk on time&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="957.5" y="417" width="175" height="30" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-95" value="&lt;font style=&quot;font-size: 36px;&quot;&gt;Youtube&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="-462" y="-327" width="155" height="55" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-99" value="&lt;font face=&quot;Comic Sans MS&quot; style=&quot;font-size: 14px;&quot;&gt;Detailed design for NFRs&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=13;" vertex="1" parent="1">
          <mxGeometry x="-462" y="147" width="189" height="30" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-104" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=-0.004;entryY=0.215;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="2z8Zo3TBHNO3D_dxmZJX-99" target="2z8Zo3TBHNO3D_dxmZJX-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-105" value="Requirements" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="-440" y="-99" width="86" height="43" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-106" value="Core Entities" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="-333" y="-99" width="86" height="43" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-109" value="API or Interface&amp;nbsp;" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="-226" y="-99" width="86" height="43" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-110" value="Data Flow" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="-119" y="-99" width="86" height="43" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-111" value="High-level&lt;div&gt;Design&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="-11" y="-99" width="86" height="43" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-113" value="Deep Dives" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="96" y="-99" width="86" height="43" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-114" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;" edge="1" parent="1" source="2z8Zo3TBHNO3D_dxmZJX-109" target="2z8Zo3TBHNO3D_dxmZJX-110">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-19" y="35" as="sourcePoint" />
            <mxPoint x="31" y="-15" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-116" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;" edge="1" parent="1" source="2z8Zo3TBHNO3D_dxmZJX-106" target="2z8Zo3TBHNO3D_dxmZJX-109">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-19" y="35" as="sourcePoint" />
            <mxPoint x="31" y="-15" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-117" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;" edge="1" parent="1" source="2z8Zo3TBHNO3D_dxmZJX-105" target="2z8Zo3TBHNO3D_dxmZJX-106">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-362" y="8" as="sourcePoint" />
            <mxPoint x="-312" y="-42" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-118" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;" edge="1" parent="1" source="2z8Zo3TBHNO3D_dxmZJX-110" target="2z8Zo3TBHNO3D_dxmZJX-111">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-19" y="35" as="sourcePoint" />
            <mxPoint x="31" y="-15" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-119" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;" edge="1" parent="1" source="2z8Zo3TBHNO3D_dxmZJX-111" target="2z8Zo3TBHNO3D_dxmZJX-113">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-19" y="35" as="sourcePoint" />
            <mxPoint x="31" y="-15" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-120" value="" style="curved=1;endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;" edge="1" parent="1" source="2z8Zo3TBHNO3D_dxmZJX-111" target="2z8Zo3TBHNO3D_dxmZJX-105">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-19" y="35" as="sourcePoint" />
            <mxPoint x="31" y="-15" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-96" y="-201" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-121" value="" style="curved=1;endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="2z8Zo3TBHNO3D_dxmZJX-113" target="2z8Zo3TBHNO3D_dxmZJX-105">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-19" y="35" as="sourcePoint" />
            <mxPoint x="31" y="-15" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-5" y="-214" />
              <mxPoint x="-254" y="-190" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-122" value="Primary goal: Satisfy&lt;div&gt;Non-functional Requirements&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Comic Sans MS;" vertex="1" connectable="0" parent="2z8Zo3TBHNO3D_dxmZJX-121">
          <mxGeometry x="-0.0471" y="2" relative="1" as="geometry">
            <mxPoint x="-18" y="4" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-123" value="Primary goal: Satisfy&lt;div&gt;Functional Requirements&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Comic Sans MS;" vertex="1" connectable="0" parent="1">
          <mxGeometry x="-102.99538423534007" y="-193.9952725829618" as="geometry">
            <mxPoint x="-22" y="44" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-129" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;exitX=0.011;exitY=0.293;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="2z8Zo3TBHNO3D_dxmZJX-12">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="690" y="315" as="sourcePoint" />
            <mxPoint x="809" y="328" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-130" value="&lt;span style=&quot;font-family: &amp;quot;Comic Sans MS&amp;quot;;&quot;&gt;store metadata&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="2z8Zo3TBHNO3D_dxmZJX-129">
          <mxGeometry x="-0.0615" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-132" value="&lt;b&gt;2 chunks optimized for:&lt;/b&gt;&lt;div&gt;1. Chunk from Client to S3: Minimize the amount of HTTP request overhead&lt;/div&gt;&lt;div&gt;2. Streaming chunk(S3 chunk and store back): small segments so that we can get that quick start and adaptability, and we tend to be cut precisely at video key frame&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Comic Sans MS;spacingTop=0;labelBackgroundColor=#CCE5FF;spacing=0;horizontal=1;" vertex="1" parent="1">
          <mxGeometry x="457" y="-210" width="335" height="139" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-134" value="(smaller chunks)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="1038" y="37" width="109" height="26" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-137" value="&lt;b&gt;Transcoder&lt;/b&gt; for transfer different bit rates&amp;nbsp;&lt;div&gt;that we send the user in different resolutions&lt;/div&gt;&lt;div&gt;This is for satisfy NFRs - latency no longer than 500ms,&amp;nbsp;&lt;/div&gt;&lt;div&gt;so transfer to optimal bit rates depending on resolution&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Comic Sans MS;fontStyle=2;fontSize=11;labelBackgroundColor=light-dark(#CCE5FF,#EDEDED);" vertex="1" parent="1">
          <mxGeometry x="1290" y="-99" width="310" height="65" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-138" value="&lt;b&gt;Senario_bad internet enviroments:&lt;/b&gt;&lt;br&gt;If clients in the enviroment with slow internet, and click the 4K video, system won&#39;t sent it more 4k video&#39;s chunk, system will degraded sent him maybe 240p chunks&lt;br&gt;(&lt;b&gt;client side will adaptively fetching the optimal bit rate and resolution&lt;/b&gt;)" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Comic Sans MS;spacingTop=0;labelBackgroundColor=#CCE5FF;spacing=0;horizontal=1;" vertex="1" parent="1">
          <mxGeometry x="457" y="-339" width="335" height="139" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-140" value="&lt;div style=&quot;font-family: &amp;quot;Comic Sans MS&amp;quot;; text-wrap-mode: nowrap; text-align: left;&quot;&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;Cannot upload video in one shot&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-family: &amp;quot;Comic Sans MS&amp;quot;; text-wrap-mode: nowrap; text-align: left;&quot;&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;-&amp;gt; upload/downlaod in chunk in stead&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#CCE5FF;" vertex="1" parent="1">
          <mxGeometry x="-226" y="651" width="212" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
