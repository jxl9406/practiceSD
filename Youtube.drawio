<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36" version="26.1.3">
  <diagram name="第 1 页" id="mNpb9smKbutXJM1IxSIa">
    <mxGraphModel dx="1827" dy="1699" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-3" value="Functional Requirment&lt;div&gt;1. User&amp;nbsp; can upload video&lt;/div&gt;&lt;div&gt;2. User can watch/stream video&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="-148" y="16" width="196" height="55" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-4" value="&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;Scale&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;~1M uploads/day&lt;/div&gt;&lt;div style=&quot;&quot;&gt;100M&amp;nbsp; DAU&lt;/div&gt;&lt;div&gt;Max video size of 256GB&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="-148" y="71" width="158" height="70" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-5" value="Non-functional Requirements&lt;div&gt;- Availibility &amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Consistency (for video upload)&lt;/div&gt;&lt;div&gt;- Support uploadinng, streaming for large video(256GB)&lt;/div&gt;&lt;div&gt;- Low latency streaming (&amp;lt;500ms) true in low bandwidth&lt;/div&gt;&lt;div&gt;- scalability to scale 1M uploads/day and 100M views&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="-148" y="143" width="328" height="84" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-6" value="Core Entities&lt;div&gt;- Video&lt;/div&gt;&lt;div&gt;- Video metadata&lt;/div&gt;&lt;div&gt;- User&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="-148" y="235" width="114" height="70" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-7" value="API&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;// API upload a video&lt;/div&gt;&lt;div&gt;POST /videos&lt;/div&gt;&lt;div&gt;{&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;video,&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;videoMetadata&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;// watch a video&lt;/div&gt;&lt;div&gt;GET&amp;nbsp; /video/:videoID&amp;nbsp; -&amp;gt; video &amp;amp; VideoMetadata&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="-148" y="319" width="288" height="170" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-8" value="Client" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="323" y="248.25" width="105" height="58.5" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-9" value="Api gateway&lt;div&gt;- routing&lt;/div&gt;&lt;div&gt;- middleware&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="491" y="118" width="120" height="319" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-10" value="video Service" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="710" y="247.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-12" value="VideoMeta&lt;div&gt;data DB&lt;/div&gt;" style="ellipse;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="883" y="364" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-13" value="S3" style="ellipse;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="875" y="110" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-15" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;entryX=0.088;entryY=0.727;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.75;exitY=0;exitDx=0;exitDy=0;fontFamily=Comic Sans MS;" edge="1" parent="1" source="2z8Zo3TBHNO3D_dxmZJX-10" target="2z8Zo3TBHNO3D_dxmZJX-13">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="820" y="229" as="sourcePoint" />
            <mxPoint x="870" y="179" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-16" value="get pre-signed urls" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Comic Sans MS;" vertex="1" connectable="0" parent="2z8Zo3TBHNO3D_dxmZJX-15">
          <mxGeometry x="-0.0095" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-19" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;exitX=0.018;exitY=0.742;exitDx=0;exitDy=0;exitPerimeter=0;fontFamily=Comic Sans MS;" edge="1" parent="1" source="2z8Zo3TBHNO3D_dxmZJX-12">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="849" y="366.5" as="sourcePoint" />
            <mxPoint x="808" y="308.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-20" value="store metadata" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Comic Sans MS;" vertex="1" connectable="0" parent="2z8Zo3TBHNO3D_dxmZJX-19">
          <mxGeometry x="-0.0198" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-21" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontFamily=Comic Sans MS;" edge="1" parent="1" source="2z8Zo3TBHNO3D_dxmZJX-8" target="2z8Zo3TBHNO3D_dxmZJX-9">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="451" y="277" as="sourcePoint" />
            <mxPoint x="501" y="227" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-23" value="10mb" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="521" y="438" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-24" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;" edge="1" parent="1" source="2z8Zo3TBHNO3D_dxmZJX-9" target="2z8Zo3TBHNO3D_dxmZJX-10">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="612" y="312" as="sourcePoint" />
            <mxPoint x="662" y="262" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-27" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;question later?&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;1. we cannot upload video in one shot&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;-&amp;gt; upload in chunck in stead&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;2. why we changed the &quot;upload video to S3&quot; to get pre-signed urls&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="-162" y="511" width="385" height="70" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-35" value="- chunk&lt;div&gt;- PUT /pre-signedurls&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="336" y="305" width="140" height="41" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-37" value="Video&lt;div&gt;- id&lt;/div&gt;&lt;div&gt;- name&lt;/div&gt;&lt;div&gt;- description&lt;/div&gt;&lt;div&gt;- status: pending |&amp;nbsp; uploaded | chunking&amp;nbsp; | chunks_complete&lt;/div&gt;&lt;div&gt;- FullS3url&lt;/div&gt;&lt;div&gt;- ChunksByResolution[]&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="875" y="449" width="348" height="113" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-39" value="" style="curved=1;endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="2z8Zo3TBHNO3D_dxmZJX-13" target="2z8Zo3TBHNO3D_dxmZJX-12">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="982" y="261" as="sourcePoint" />
            <mxPoint x="1032" y="211" as="targetPoint" />
            <Array as="points">
              <mxPoint x="998" y="223" />
              <mxPoint x="992" y="291" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-41" value="S3 notification" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="2z8Zo3TBHNO3D_dxmZJX-39">
          <mxGeometry x="-0.0959" relative="1" as="geometry">
            <mxPoint y="10" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-43" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="398" y="247.5" as="sourcePoint" />
            <mxPoint x="867.0000000000136" y="153.25" as="targetPoint" />
            <Array as="points">
              <mxPoint x="522" y="28.25" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-44" value="&lt;span style=&quot;font-family: &amp;quot;Comic Sans MS&amp;quot;;&quot;&gt;1. Upload directly to S3&lt;/span&gt;&lt;div style=&quot;font-family: &amp;quot;Comic Sans MS&amp;quot;;&quot;&gt;w/ mutipart upload&lt;/div&gt;&lt;div style=&quot;font-family: &amp;quot;Comic Sans MS&amp;quot;;&quot;&gt;2. Download directly from S3&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="2z8Zo3TBHNO3D_dxmZJX-43">
          <mxGeometry x="-0.511" y="-1" relative="1" as="geometry">
            <mxPoint x="78" y="-76" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-45" value="Chunker" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1032" y="33" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-48" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="2z8Zo3TBHNO3D_dxmZJX-13" target="2z8Zo3TBHNO3D_dxmZJX-45">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="955" y="103" as="sourcePoint" />
            <mxPoint x="1005" y="53" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-49" value="S3 notification" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="2z8Zo3TBHNO3D_dxmZJX-48">
          <mxGeometry x="0.0051" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-51" value="" style="curved=1;endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="2z8Zo3TBHNO3D_dxmZJX-45" target="2z8Zo3TBHNO3D_dxmZJX-13">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="909" y="66" as="sourcePoint" />
            <mxPoint x="959" y="16" as="targetPoint" />
            <Array as="points">
              <mxPoint x="932" y="-16" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-53" value="store chunk bacck into S3" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="2z8Zo3TBHNO3D_dxmZJX-51">
          <mxGeometry x="-0.1813" y="33" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-54" value="" style="curved=1;endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="2z8Zo3TBHNO3D_dxmZJX-45" target="2z8Zo3TBHNO3D_dxmZJX-12">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1075" y="232" as="sourcePoint" />
            <mxPoint x="1125" y="182" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1123" y="168" />
              <mxPoint x="1085" y="308" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-56" value="2-10s clips" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="2z8Zo3TBHNO3D_dxmZJX-54">
          <mxGeometry x="-0.9436" y="-2" relative="1" as="geometry">
            <mxPoint x="6" y="11" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-63" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="1353" y="21" width="272" height="210" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-61" value="" style="group" vertex="1" connectable="0" parent="2z8Zo3TBHNO3D_dxmZJX-63">
          <mxGeometry y="30" width="272" height="180" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-57" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="2z8Zo3TBHNO3D_dxmZJX-61">
          <mxGeometry width="272" height="180" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-58" value="Video codec&lt;div&gt;data&lt;/div&gt;&lt;div&gt;(H.264, Vp9,&lt;/div&gt;&lt;div&gt;AV1)&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="2z8Zo3TBHNO3D_dxmZJX-61">
          <mxGeometry x="9" y="15" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-59" value="Audio codec&lt;div&gt;data&lt;/div&gt;&lt;div&gt;(MP3, Opus, etc&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;)&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="2z8Zo3TBHNO3D_dxmZJX-61">
          <mxGeometry x="141" y="13" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-60" value="Parameters&lt;div&gt;- bitrate, resolution, frame rate&lt;/div&gt;&lt;div&gt;- apest ratio&lt;/div&gt;&lt;div&gt;- duratin&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="2z8Zo3TBHNO3D_dxmZJX-61">
          <mxGeometry x="9" y="85" width="254" height="82" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-62" value="Video container (mp4, mov, avi, etc)" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Comic Sans MS;" vertex="1" parent="2z8Zo3TBHNO3D_dxmZJX-63">
          <mxGeometry x="2" width="270" height="30" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-71" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="1225" y="-34" width="84" height="221" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-64" value="Transcoder&lt;div&gt;(4k)&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" vertex="1" parent="2z8Zo3TBHNO3D_dxmZJX-71">
          <mxGeometry y="179" width="84" height="42" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-65" value="Transcoder&lt;div&gt;(1080p)&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" vertex="1" parent="2z8Zo3TBHNO3D_dxmZJX-71">
          <mxGeometry y="131" width="84" height="42" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-66" value="Transcoder&lt;div&gt;(720p)&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" vertex="1" parent="2z8Zo3TBHNO3D_dxmZJX-71">
          <mxGeometry y="81" width="84" height="42" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-68" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="2z8Zo3TBHNO3D_dxmZJX-71">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="42" y="82" as="sourcePoint" />
            <mxPoint x="42" y="43" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-70" value="Transcoder&lt;div&gt;(240p)&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" vertex="1" parent="2z8Zo3TBHNO3D_dxmZJX-71">
          <mxGeometry width="84" height="42" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-73" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="2z8Zo3TBHNO3D_dxmZJX-45" target="2z8Zo3TBHNO3D_dxmZJX-65">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1156" y="182" as="sourcePoint" />
            <mxPoint x="1206" y="132" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-74" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="2z8Zo3TBHNO3D_dxmZJX-45" target="2z8Zo3TBHNO3D_dxmZJX-70">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1161" y="36" as="sourcePoint" />
            <mxPoint x="1211" y="-14" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-75" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="2z8Zo3TBHNO3D_dxmZJX-45" target="2z8Zo3TBHNO3D_dxmZJX-66">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1175" y="151" as="sourcePoint" />
            <mxPoint x="1225" y="101" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-76" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="2z8Zo3TBHNO3D_dxmZJX-45" target="2z8Zo3TBHNO3D_dxmZJX-64">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1140" y="193" as="sourcePoint" />
            <mxPoint x="1190" y="143" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-78" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="2z8Zo3TBHNO3D_dxmZJX-64" target="2z8Zo3TBHNO3D_dxmZJX-12">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1198" y="385" as="sourcePoint" />
            <mxPoint x="1248" y="335" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-79" value="" style="curved=1;endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="2z8Zo3TBHNO3D_dxmZJX-70" target="2z8Zo3TBHNO3D_dxmZJX-13">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1013" y="-81" as="sourcePoint" />
            <mxPoint x="1063" y="-131" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1072" y="-131" />
              <mxPoint x="904" y="-76" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-81" value="Store back into S3" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="2z8Zo3TBHNO3D_dxmZJX-79">
          <mxGeometry x="-0.0236" y="6" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-83" value="CDN" style="ellipse;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="304" y="-26" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-85" value="- have popular video chunks" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="259" y="-56" width="170" height="26" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-86" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;exitX=0.25;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="2z8Zo3TBHNO3D_dxmZJX-8" target="2z8Zo3TBHNO3D_dxmZJX-83">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="262" y="128" as="sourcePoint" />
            <mxPoint x="312" y="78" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-89" value="&lt;div style=&quot;font-family: &amp;quot;Comic Sans MS&amp;quot;; text-align: left;&quot;&gt;&lt;span style=&quot;white-space-collapse: preserve;&quot;&gt;&#x9;&lt;/span&gt;{&lt;/div&gt;&lt;div style=&quot;font-family: &amp;quot;Comic Sans MS&amp;quot;; text-align: left;&quot;&gt;&lt;span style=&quot;white-space-collapse: preserve;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space-collapse: preserve;&quot;&gt;&#x9;&lt;/span&gt;240p: [],&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-family: &amp;quot;Comic Sans MS&amp;quot;; text-align: left;&quot;&gt;&lt;span style=&quot;white-space-collapse: preserve;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space-collapse: preserve;&quot;&gt;&#x9;&lt;/span&gt;720p: [],&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-family: &amp;quot;Comic Sans MS&amp;quot;; text-align: left;&quot;&gt;&lt;span style=&quot;white-space-collapse: preserve;&quot;&gt;&#x9;&lt;/span&gt;}&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="173" y="-21" width="123" height="70" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-90" value="Streaming protocols:&lt;div&gt;1. HLS&lt;/div&gt;&lt;div&gt;2. DASH&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="323" y="456" width="138" height="30" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-91" value="video Service" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="699" y="256" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-92" value="video Service" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="690" y="268" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="2z8Zo3TBHNO3D_dxmZJX-93" value="1m * 1kb *365 = .35TB&lt;div&gt;shard by videoID on time&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="951" y="401" width="175" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
